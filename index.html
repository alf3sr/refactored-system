<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Point Tracker</title>

  <!-- PWA manifest & icons -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="./Icon-192.png">

  <style>
    :root {
      --bg: #000;
      --panel-bg: #111;
      --panel-border: #333;
      --text: #fff;
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body {
      height:100vh;
      background:var(--bg);
      color:var(--text);
      font-family:system-ui,sans-serif;
      overflow:hidden;
    }

    /* —— Minimal ⚙️ button —— */
    #settingsBtn {
      position:fixed;
      top:1rem; right:1rem;
      z-index:100;
      width:2.5rem; height:2.5rem;
      background:none;
      border:2px solid rgba(255,255,255,0.6);
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:1.4rem;
      color:rgba(255,255,255,0.9);
      cursor:pointer;
    }

    /* —— Slide‑out panel —— */
    #settingsPanel { /* unchanged… */ }
    /* … your existing panel CSS here … */

    /* —— Scoreboard grid —— */
    #court {
      position:absolute; inset:0;
      display:grid;
    }
    .teamBox {
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      border:1px solid #111;
      user-select:none;
      cursor:pointer;
      /* add a quick transform transition */
      transition: background .15s, transform .1s ease;
    }
    .teamBox:active {
      background:#111;
      transform:scale(0.97);
    }

    /* fluid, larger text */
    .teamName {
      font-size:clamp(2.5rem, 8vw, 5rem);
      font-weight:600;
      text-shadow:0 0 6px #0008;
    }
    .teamScore {
      font-size:clamp(6rem, 15vw, 12rem);
      font-weight:800;
      text-shadow:0 0 12px #000c;
    }

    /* —— Winner overlay —— */
    #winnerBanner { /* unchanged… */ }
    /* … your existing winner CSS here … */
  </style>
</head>
<body>

  <!-- Settings toggle & panel (unchanged) -->
  <button id="settingsBtn">⚙️</button>
  <div id="settingsPanel">…</div>

  <!-- Scoreboard grid -->
  <div id="court"></div>

  <!-- Winner overlay -->
  <div id="winnerBanner">…</div>

<script>
// — your existing state/setup/draw code here —
// (no changes until the haptic function)

//
// Replace your old haptic() with this:
//
let audioCtx = null;
function haptic() {
  try {
    if (!audioCtx) {
      audioCtx = new (window.AudioContext||window.webkitAudioContext)();
    }
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain); gain.connect(audioCtx.destination);
    osc.frequency.value = 200;       // low‑tone “click”
    gain.gain.setValueAtTime(1, audioCtx.currentTime);
    osc.start(audioCtx.currentTime);
    osc.stop(audioCtx.currentTime + 0.02); // 20 ms beep
  } catch(e){
    // if Web Audio isn’t available, silent fail
    console.warn('Haptic audio failed', e);
  }
}

// — scoring handlers —
function onTeamClick(e) {
  const i = +e.currentTarget.dataset.index;
  config.teams[i].score++;
  config.history.push(i);
  updateScores();
  haptic();          // ← use our simulated feedback
  checkWinner(i);
}

// — rest of your existing JS (drawCourt, undo, resetGame, etc.) —

// Finally register the service worker…
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () =>
    navigator.serviceWorker.register('./sw.js').catch(console.error)
  );
}
</script>
</body>
</html>
